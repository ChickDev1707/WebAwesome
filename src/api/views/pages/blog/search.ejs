<%- contentFor("head") %> 
<title>Search page</title>
<link rel="stylesheet" href="/public/stylesheets/pages/blog/search.css">

<%- contentFor("body") %> 
<div class="container main">
  <h2>Search</h2>
  <form action="/blogs/search" method="GET">
    <div class="d-flex search-bar">
      <input name="searchKey" placeholder="Nhap tieu de bai viet" type="text">
      <button type="submit"><i class="fas fa-search"></i> search</button>
    </div>
    <div class="d-flex justify-content-between">
      <h4>Result</h4>
      <button class="advanced-search-collapse-btn" type="button" data-toggle="collapse" data-target="#advanced-search-panel" aria-expanded="false" aria-controls="advanced-search-panel">Advanced search <i class="fas fa-angle-down"></i></button>
      
    </div>
    <div class="collapse" id="advanced-search-panel">
      <div style="padding: .5rem 0;">
        <span>Categories: </span>
        <select name="category" aria-label=".form-select-sm example">
          <option value="all" selected>All</option>
          <option value="html">HTML</option>
          <option value="js">Js</option>
          <option value="css">Css</option>
        </select>
        <span>Time: </span>
        <select name="time" aria-label=".form-select-sm example">
          <option value="Infinity" selected>All</option>
          <option value="1">Today</option>
          <option value="7">7 days ago</option>
          <option value="30">30 days ago</option>
        </select>
      </div>
    </div>
  </form>
  <p><strong><%= result.length %></strong> appropriate results</p>
  <div class="result-box">
    <% if(result.length == 0){ %>
      <%- include('../../partials/no-result-item.ejs') %> 
    <% }else{ %>
      <% result.forEach((post)=>{ %>
        <%- include('./partials/search-post-item.ejs', {post}) %> 
      <% }) %> 
    <% } %> 
  </div>
</div>